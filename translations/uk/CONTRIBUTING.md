<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "bd4704f50c55da7d572b691484aa0b30",
  "translation_date": "2025-10-15T04:15:35+00:00",
  "source_file": "CONTRIBUTING.md",
  "language_code": "uk"
}
-->
# Внесення змін до Co-op Translator

Цей проєкт відкритий для внесення змін і пропозицій. Більшість внесків вимагають, щоб ви погодилися з Contributor License Agreement (CLA), підтверджуючи, що маєте право і дійсно надаєте нам права на використання вашого внеску. Детальніше: https://cla.opensource.microsoft.com.

Коли ви надсилаєте pull request, бот CLA автоматично визначить, чи потрібно вам підписати CLA, і відповідно позначить PR (наприклад, статусом чи коментарем). Просто дотримуйтесь інструкцій бота. Це потрібно зробити лише один раз для всіх репозиторіїв, які використовують наш CLA.

## Налаштування середовища розробки

Для налаштування середовища розробки цього проєкту рекомендуємо використовувати Poetry для керування залежностями. Ми використовуємо `pyproject.toml` для керування залежностями, тому для їх встановлення слід використовувати Poetry.

### Створення віртуального середовища

#### За допомогою pip

```bash
python -m venv .venv
```

#### За допомогою Poetry

```bash
poetry init
```

### Активація віртуального середовища

#### Для pip і Poetry

- Windows:

    ```bash
    .venv\Scripts\activate.bat
    ```

- Mac/Linux:

    ```bash
    source .venv/bin/activate
    ```

#### За допомогою Poetry

```bash
poetry shell
```

### Встановлення пакету та необхідних залежностей

#### За допомогою Poetry (з pyproject.toml)

```bash
poetry install
```

### Ручне тестування

Перед відправкою PR важливо протестувати функціонал перекладу на реальній документації:

1. Створіть тестову директорію в корені проєкту:
    ```bash
    mkdir test_docs
    ```

2. Скопіюйте туди кілька markdown-документів та зображень, які хочете перекласти. Наприклад:
    ```bash
    cp /path/to/your/docs/*.md test_docs/
    cp /path/to/your/images/*.png test_docs/
    ```

3. Встановіть пакет локально:
    ```bash
    pip install -e .
    ```

4. Запустіть Co-op Translator на ваших тестових документах:
    ```bash
    python -m co_op_translator --language-codes ko --root-dir test_docs
    ```

5. Перевірте перекладені файли у `test_docs/translations` та `test_docs/translated_images`, щоб впевнитися, що:
   - Якість перекладу відповідає очікуванням
   - Метадані у коментарях правильні
   - Оригінальна структура markdown збережена
   - Посилання та зображення працюють коректно

Таке ручне тестування допомагає переконатися, що ваші зміни добре працюють у реальних умовах.

### Змінні середовища

1. Створіть файл `.env` у кореневій директорії, скопіювавши наданий файл `.env.template`.
1. Заповніть змінні середовища згідно з інструкціями.

> [!TIP]
>
> ### Додаткові варіанти середовища розробки
>
> Окрім локального запуску проєкту, ви також можете скористатися GitHub Codespaces або VS Code Dev Containers для альтернативного налаштування середовища розробки.
>
> #### GitHub Codespaces
>
> Ви можете запускати ці приклади у віртуальному середовищі через GitHub Codespaces без додаткових налаштувань.
>
> Кнопка відкриє веб-версію VS Code у вашому браузері:
>
> 1. Відкрийте шаблон (це може зайняти кілька хвилин):
>
>     [![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new/azure/co-op-translator)
>
> #### Локальний запуск через VS Code Dev Containers
>
> ⚠️ Цей варіант працюватиме лише якщо для Docker Desktop виділено щонайменше 16 ГБ оперативної пам’яті. Якщо у вас менше 16 ГБ, спробуйте [GitHub Codespaces](../..) або [налаштуйте локально](../..).
>
> Схожий варіант — VS Code Dev Containers, який відкриє проєкт у вашому локальному VS Code за допомогою [розширення Dev Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers):
>
> 1. Запустіть Docker Desktop (встановіть, якщо ще не встановлено)
> 2. Відкрийте проєкт:
>
>    [![Open in Dev Containers](https://img.shields.io/static/v1?style=for-the-badge&label=Dev%20Containers&message=Open&color=blue&logo=visualstudiocode)](https://vscode.dev/redirect?url=vscode://ms-vscode-remote.remote-containers/cloneInVolume?url=https://github.com/azure/co-op-translator)


### Стиль коду

Ми використовуємо [Black](https://github.com/psf/black) як форматувач коду Python для підтримки єдиного стилю у проєкті. Black — це безкомпромісний форматувач, який автоматично приводить Python-код до стандарту Black.

#### Налаштування

Налаштування Black вказано у нашому `pyproject.toml`:

```toml
[tool.black]
line-length = 88
target-version = ['py310']
include = '\.pyi?$'
```

#### Встановлення Black

Ви можете встановити Black через Poetry (рекомендовано) або pip:

##### Через Poetry

Black встановлюється автоматично під час налаштування середовища розробки:
```bash
poetry install
```

##### Через pip

Якщо ви використовуєте pip, встановіть Black напряму:
```bash
pip install black
```

#### Використання Black

##### З Poetry

1. Відформатуйте всі Python-файли у проєкті:
    ```bash
    poetry run black .
    ```

2. Відформатуйте окремий файл або директорію:
    ```bash
    poetry run black path/to/file_or_directory
    ```

##### З pip

1. Відформатуйте всі Python-файли у проєкті:
    ```bash
    black .
    ```

2. Відформатуйте окремий файл або директорію:
    ```bash
    black path/to/file_or_directory
    ```

> [!TIP]
> Рекомендуємо налаштувати ваш редактор так, щоб код автоматично форматувався Black при збереженні. Більшість сучасних редакторів це підтримують через розширення або плагіни.

## Запуск Co-op Translator

Щоб запустити Co-op Translator через Poetry у вашому середовищі, виконайте наступні кроки:

1. Перейдіть у директорію, де хочете провести тестування перекладу, або створіть тимчасову папку для тестів.

2. Виконайте наступну команду. Замініть `-l ko` на код мови, на яку хочете перекласти. Прапорець `-d` вмикає режим налагодження.

    ```bash
    poetry run co-op-translator translate -l ko -d
    ```

> [!NOTE]
> Перед запуском команди переконайтеся, що ваше середовище Poetry активоване (poetry shell).

## Додавання нової мови

Ми раді новим мовам у проєкті. Перед створенням PR, будь ласка, виконайте наступні кроки для полегшення перевірки.

1. Додайте мову до мапінгу шрифтів
   - Відредагуйте `src/co_op_translator/fonts/font_language_mappings.yml`
   - Додайте запис із:
     - `code`: код мови у форматі ISO (наприклад, `vi`)
     - `name`: зручна для читання назва
     - `font`: шрифт із `src/co_op_translator/fonts/`, який підтримує цю писемність
     - `rtl`: `true`, якщо мова пишеться справа наліво, інакше `false`

2. Додайте необхідні файли шрифтів (за потреби)
   - Якщо потрібен новий шрифт, перевірте його ліцензію на сумісність з відкритим кодом
   - Додайте файл шрифту до `src/co_op_translator/fonts/`

3. Локальна перевірка
   - Запустіть переклад для невеликого прикладу (Markdown, зображення, ноутбуки — за потреби)
   - Переконайтеся, що результат відображається коректно, включаючи шрифти та RTL-розмітку, якщо це актуально

4. Оновіть документацію
   - Переконайтеся, що мова з’явилася у `getting_started/supported-languages.md`
   - Не потрібно змінювати `README_languages_template.md` — він генерується зі списку підтримуваних мов

5. Створіть PR
   - Опишіть додану мову та особливості шрифту/ліцензії
   - Додайте скріншоти відображення результату, якщо можливо

Приклад запису YAML:

```yaml
new_lang(code):
  name: "New Language"
  font: "NotoSans-Medium.ttf"
  rtl: false
```


## Мейнтейнери

### Формат комітів і стратегія злиття

Щоб забезпечити послідовність і зрозумілість історії комітів, ми дотримуємося певного формату **для фінального коміту** при використанні стратегії **Squash and Merge**.

Коли pull request (PR) зливається, окремі коміти об’єднуються в один. Фінальний коміт має відповідати наведеному нижче формату для чистої та послідовної історії.

#### Формат комітів (для squash and merge)

Ми використовуємо такий формат повідомлень комітів:

```bash
<type>: <description> (#<PR number>)
```

- **type**: Категорія коміту. Ми використовуємо такі типи:
  - `Docs`: Оновлення документації.
  - `Build`: Зміни, пов’язані з системою збірки або залежностями, включаючи оновлення конфігурацій, CI, Dockerfile тощо.
  - `Core`: Зміни у основній функціональності проєкту, особливо у файлах `src/co_op_translator/core`.

- **description**: Короткий опис змін.
- **PR number**: Номер pull request, з яким пов’язаний коміт.

**Приклади**:

- `Docs: Update installation instructions for clarity (#50)`
- `Core: Improve handling of image translation (#60)`

> [!NOTE]
> На даний момент префікси **`Docs`**, **`Core`** та **`Build`** автоматично додаються до заголовків PR на основі міток, застосованих до зміненого коду. Якщо мітка правильна, зазвичай не потрібно вручну змінювати заголовок PR. Просто перевірте, що все коректно і префікс згенеровано правильно.

#### Стратегія злиття

Ми використовуємо **Squash and Merge** як основну стратегію для pull request. Це гарантує, що повідомлення комітів відповідають нашому формату, навіть якщо окремі коміти цього не роблять.

**Переваги**:

- Чиста, лінійна історія проєкту.
- Послідовність у повідомленнях комітів.
- Менше "шуму" від дрібних комітів (наприклад, "fix typo").

Під час злиття переконайтеся, що фінальне повідомлення коміту відповідає описаному вище формату.

**Приклад Squash and Merge**
Якщо у PR такі коміти:

- `fix typo`
- `update README`
- `adjust formatting`

Вони мають бути об’єднані у:
`Docs: Improve documentation clarity and formatting (#65)`

---

**Відмова від відповідальності**:
Цей документ було перекладено за допомогою сервісу автоматичного перекладу [Co-op Translator](https://github.com/Azure/co-op-translator). Хоча ми прагнемо до точності, звертаємо вашу увагу, що автоматичний переклад може містити помилки або неточності. Оригінальний документ рідною мовою слід вважати авторитетним джерелом. Для отримання критично важливої інформації рекомендується професійний людський переклад. Ми не несемо відповідальності за будь-які непорозуміння або неправильне тлумачення, що виникли внаслідок використання цього перекладу.